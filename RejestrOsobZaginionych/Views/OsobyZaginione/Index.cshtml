@model RejestrOsobZaginionych.Models.Uzytkownik

@{
    Layout = null;
}

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Create</title>
	<link rel="stylesheet" href="/Content/bootstrap.min.css">
</head>
<body class="container">
    @if (ViewBag.Utworzono == 1)
    {
		<div class="alert alert-success">
			<p>Konto zostało utworzone! Poczekaj na akceptację przez administratora.</p>
		</div>
    }
	else if (ViewBag.Utworzono == -1) 
	{
		<div class="alert alert-warning">
			<p>Aby się zarejestrować wypełnij wszystkie pola.</p>
		</div>
	}

    @if (ViewBag.Error == 0)
    {
		<div class="alert alert-danger">
			<p>Takie konto nie istnieje. Najpierw się zarejestruj.</p>
		</div>
    }
    else if (ViewBag.Error == -1)
    {
		<div class="alert alert-danger">
			<p>Nieprawidłowe hasło lub konto nieaktywne.</p>
		</div>

    }

    @using (Html.BeginForm("Logowanie", "OsobyZaginione"))
    {


        @Html.AntiForgeryToken()

        <div class="form-horizontal">
            <h4>Logowanie</h4>
            <hr />
            @Html.ValidationSummary(true, "", new { @class = "text-danger" })
            <div class="form-group">
                @Html.LabelFor(model => model.Email, htmlAttributes: new { @class = "control-label col-md-2" })
                <div class="col-md-3">
                    @Html.EditorFor(model => model.Email, new { htmlAttributes = new { @class = "form-control" } })
                    @Html.ValidationMessageFor(model => model.Email, "", new { @class = "text-danger" })
                </div>
            </div>

            <div class="form-group">
                @Html.LabelFor(model => model.Haslo, htmlAttributes: new { @class = "control-label col-md-2" })
                <div class="col-md-3">
                    @Html.EditorFor(model => model.Haslo, new { htmlAttributes = new { @class = "form-control", @type = "password" } })
                    @Html.ValidationMessageFor(model => model.Haslo, "", new { @class = "text-danger" })
                </div>
            </div>

            <div class="form-group">
                <div class="col-md-offset-2 col-md-10">
                    <input type="submit" value="Zaloguj" class="btn btn-default" />
                </div>
            </div>
        </div>
    }

    @using (Html.BeginForm("Rejestracja", "OsobyZaginione"))
    {
        @Html.AntiForgeryToken()

        <div class="form-horizontal">
            <h4>Rejestracja</h4>
            <hr />
            @Html.ValidationSummary(true, "", new { @class = "text-danger" })
            <div class="form-group">
                @Html.LabelFor(model => model.Email, htmlAttributes: new { @class = "control-label col-md-2" })
                <div class="col-md-3">
                    @Html.EditorFor(model => model.Email, new { htmlAttributes = new { @class = "form-control" } })
                    @Html.ValidationMessageFor(model => model.Email, "", new { @class = "text-danger" })
                </div>
            </div>

            <div class="form-group">
                @Html.LabelFor(model => model.Haslo, htmlAttributes: new { @class = "control-label col-md-2" })
                <div class="col-md-3">
                    @Html.EditorFor(model => model.Haslo, new { htmlAttributes = new { @class = "form-control", @type = "password" } })
                    @Html.ValidationMessageFor(model => model.Haslo, "", new { @class = "text-danger" })
                </div>
            </div>

            <div class="form-group">
                <div class="col-md-offset-2 col-md-10">
                    <input type="submit" value="Zarejestruj" class="btn btn-default" />
                </div>
            </div>
        </div>
    }

    <script src="/Scripts/jquery-3.4.1.min.js"></script>
	<script src="/Script/bootstrap.js"></script>
</body>
</html>
